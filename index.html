<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Dynamsoft Barcode Reader Sample - Minimum Code</title>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@8.2.1/dist/dbr.js"></script>
</head>

<!-- This sample demonstrates the minimum necessary JavaScript code to get the BarcodeScanner (video) up and running. The BarcodeScanner object is initialized once the user clicks the 'Read Barcode' button. Any barcode results that are found are then displayed in an alert box to the user. Please note that the organizationID '200001' corresponds to Dynamsoft's public license which is reserved for public samples. When hosting the sample in your own environment, please obtain a private trial by contacting the Dynamsoft Support Team via support@dynamsoft.com -->

<body>
    <button id='readBarcode'>Read Barcode via Video</button>
    <script>
        let scanner = null;
        document.getElementById('readBarcode').onclick = async function () {
            try {
                Dynamsoft.DBR.BarcodeReader.organizationID = "200001";
                scanner = scanner || await Dynamsoft.DBR.BarcodeScanner.createInstance();
                /*scanner.onFrameRead = results => {
                    for (let result of results) {
                        alert(result.barcodeFormatString + ": " + result.barcodeText);
                    }
                };*/
				scanner.onUnduplicatedRead = (txt, result) => {
					alert(txt);
					console.log(result);
				}
                await scanner.show();
            } catch (ex) {
                alert(ex.message);
                throw ex;
            }
        };
    </script>
</body>

</html>